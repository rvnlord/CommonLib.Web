@using CommonLib.Web.Source.Common.Utils.UtilClasses
@using CommonLib.Web.Source.Models
@using CommonLib.Web.Source.Common.Components.MyInputComponent

@namespace CommonLib.Web.Source.Common.Components.MyPasswordInputComponent
@inherits MyPasswordInputBase

<CascadingValue Value="State">
<CascadingValue Value="_bpPasswordInput">
    @if (ChildContent == null)
    {
        <MyInputGroup>
            <input @ref="@_jsPasswordInput" type="text"
                   placeholder="@Placeholder"
                   class="@_renderClasses"
                   style="@_renderStyle"
                   @attributes="@_renderAttributes"
                   my-guid="@_guid" />

            <MyInputGroupPrepend>
                <MyIcon IconType="IconType.From(LightIconType.Key)"></MyIcon>
            </MyInputGroupPrepend>
            <MyInputGroupAppend>
                <MyButton class="my-btn-toggle-password-visibility" style="width: 38px">
                    <MyIcon IconType="IconType.From(LightIconType.Eye)" class="my-icon-password-shown my-d-none"></MyIcon>
                    <MyIcon IconType="IconType.From(LightIconType.EyeSlash)" class="my-icon-password-hidden"></MyIcon>
                </MyButton>
            </MyInputGroupAppend>
        </MyInputGroup>
    }
    else
    {
        <MyInputGroup>
            <input @ref="@_jsPasswordInput"
                   type="text"
                   placeholder="@Placeholder"
                   class="@_renderClasses"
                   style="@_renderStyle"
                   @attributes="@_renderAttributes"
                   my-guid="@_guid" />
            @ChildContent
        </MyInputGroup>
    }
</CascadingValue>
</CascadingValue>